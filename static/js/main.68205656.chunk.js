(this["webpackJsonpfont-filler"]=this["webpackJsonpfont-filler"]||[]).push([[0],{12:function(e,t,n){e.exports=n(29)},17:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(8),o=n.n(l),c=(n(17),n(4)),i=n(3),s=n(11),u=a.a.createContext({}),f=u.Provider,p=(u.Consumer,u),m=n(5);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h={"NO-BREAK SPACE":"00A0","THIN SPACE":"2009","NARROW NO-BREAK SPACE":"202F","FIGURE SPACE":"2007","DIGIT ZERO":"0030",SPACE:"0020"},b={"NO-BREAK SPACE":{fallback:[{char:"SPACE"}]},"THIN SPACE":{fallback:[{char:"SPACE",factor:.7}]},"NARROW NO-BREAK SPACE":{fallback:[{char:"THIN SPACE"},{char:"SPACE",factor:.7}]},"FIGURE SPACE":{fallback:[{char:"DIGIT ZERO"}]}},d=function(e){return Object.keys(b).map((function(t){var n=!1,r={};return e[t]?n=!0:r=function(e,t){for(var n=0;n<e.length;n++){var r=t[e[n].char];if(r)return{char:e[n].char,width:r,factor:e[n].factor||1}}return{}}(b[t].fallback,e),{name:t,hex:h[t],exists:n,fallback:r}}))},y=function(e,t){var n=function(e,t){var n=Object.keys(e).find((function(n){return function(e,t){return e.unicodes.includes(t)}(e[n],t)}));return n?e[n]:null}(e,t);return n?n.advanceWidth:null},O=function(e,t){console.log({info:e,fallback:t});var n=[];n.push(new i.b({name:".notdef",advanceWidth:650,path:new i.c})),t.forEach((function(e){n.push(new i.b({name:"uni".concat(e.hex),unicode:parseInt(e.hex,16),advanceWidth:e.fallback.width*e.fallback.factor,path:new i.c}))}));var r=new i.a({familyName:"FontFiller",styleName:e.fontSubfamily,unitsPerEm:e.unitsPerEm,ascender:e.os2.sTypoAscender,descender:e.os2.sTypoDescender,glyphs:n});r.tables.os2=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.tables.os2,{sTypoLineGap:e.os2.sTypoLineGap,sxHeight:e.os2.sxHeight,sCapHeight:e.os2.sCapHeight}),r.download()},g=function(e){var t={unitsPerEm:null,fontSubfamily:null,os2:{sTypoAscender:null,sTypoDescender:null,sTypoLineGap:null,sxHeight:null,sCapHeight:null},width:{FIGURE_SPACE:null,NO_BREAK_SPACE:null,THIN_SPACE:null,NARROW_NO_BREAK_SPACE:null,ZERO:null,SPACE:null}};if(e.tables.head){var n=e.tables.head;t.unitsPerEm=n.unitsPerEm}if(e.tables.name){var r=e.tables.name;t.fontSubfamily=r.fontSubfamily.en}if(e.tables.os2){var a=e.tables.os2;t.os2.sTypoAscender=a.sTypoAscender,t.os2.sTypoDescender=a.sTypoDescender,t.os2.sTypoLineGap=a.sTypoLineGap,t.os2.sxHeight=a.sxHeight,t.os2.sCapHeight=a.sCapHeight}return t.width={},Object.keys(h).forEach((function(n){return t.width[n]=y(e.glyphs.glyphs,parseInt(h[n],16))})),t};n(26);var w=function(){var e=Object(r.useContext)(p),t=Object(c.a)(e,2)[1],n=Object(r.useCallback)((function(e){var n=new FileReader;n.onabort=function(){return t({type:"ERROR",payload:{error:"file reading was aborted"}})},n.onerror=function(){return t({type:"ERROR",payload:{error:"file reading has failed"}})},n.onload=function(){var e=n.result;try{var r=Object(i.d)(e);t({type:"LOAD",payload:{file:r,info:g(r)}})}catch(a){t({type:"ERROR",payload:{error:a.message}})}},1===e.length?e.forEach((function(e){return n.readAsArrayBuffer(e)})):t({type:"ERROR",payload:{error:"please select only one file"}})}),[t]),l=Object(s.a)({onDrop:n}),o=l.getRootProps,u=l.getInputProps,f=l.isDragActive;return a.a.createElement(r.Fragment,null,a.a.createElement("div",Object.assign({className:"DropFont"},o()),a.a.createElement("input",u()),f?a.a.createElement("span",{className:"DropFont__caption"},"Drop the file here ..."):a.a.createElement("span",{className:"DropFont__caption"},"Drop a font here, or click to select file"),a.a.createElement("br",null),a.a.createElement("small",null,"Support for WOFF, OTF, TTF")))};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={file:null,info:null,error:null},P=function(e,t){switch(t.type){case"ERROR":return k({},e,{error:t.payload.error,file:null,info:null});case"LOAD":return k({},e,{file:t.payload.file,info:t.payload.info,error:null});default:return e}};var j=function(){var e=Object(r.useContext)(p),t=Object(c.a)(e,1)[0];return a.a.createElement("header",{className:"Header"},a.a.createElement("h1",null,"FontFiller"),a.a.createElement("small",null,"Generate missing whitespace characters for incomplete fonts."),a.a.createElement("h3",null,"Supported characters"),a.a.createElement("ul",null,Object.keys(h).map((function(e){return a.a.createElement("li",null,a.a.createElement("small",null,"U+",h[e])," ",e)}))),t.error&&a.a.createElement("h2",null,a.a.createElement("span",{role:"img","aria-label":"Warning"},"\u26a0\ufe0f")," ",t.error),t.info&&a.a.createElement("details",null,a.a.createElement("summary",null,"Debug-Infos"),a.a.createElement("pre",null,JSON.stringify(t.info,null,2))),a.a.createElement("br",null))};n(27);var S=function(){var e=Object(r.useContext)(p),t=Object(c.a)(e,1)[0];if(!t.info)return null;var n=d(t.info.width);return a.a.createElement("div",{className:"FillSelect"},a.a.createElement("ul",{className:"FillSelect__list"},n.map((function(e){return e.exists?a.a.createElement("li",{className:"FillSelect__item FillSelect__item--exists"},a.a.createElement("span",{role:"img","aria-label":"OK"},"\u2705")," ",a.a.createElement("small",null,"U+",h[e.name])," ",e.name," in font"):a.a.createElement("li",{className:"FillSelect__item FillSelect__item--missing"},a.a.createElement("span",{role:"img","aria-label":"info"},"\u2139\ufe0f")," ",a.a.createElement("small",null,"U+",h[e.name])," ",e.name," not in font"," ",a.a.createElement("br",null),e.fallback.char?a.a.createElement("span",null,a.a.createElement("span",{role:"img","aria-label":"new"},"\ud83c\udd95")," ",a.a.createElement("small",null,"U+",h[e.fallback.char])," ",e.fallback.char," used to generate fallback"," ",1!==e.fallback.factor?a.a.createElement("span",null,"(Width \xd7 ",e.fallback.factor,")"):""):a.a.createElement(r.Fragment,null,a.a.createElement("span",{role:"img","aria-label":"error"},"\ud83c\udd95"),a.a.createElement("span",null," no fallback found ")))}))),a.a.createElement("button",{onClick:function(){return O(t.info,n.filter((function(e){return e.fallback.char})))}},"Download Filler Font (TTF)"),a.a.createElement("h2",null,"Convert & load"),a.a.createElement("p",null,"After downloading the fillter-font convert the TTF to Woff/Woff2 with"," ",a.a.createElement("a",{className:"App-link",href:"https://www.fontsquirrel.com/tools/webfont-generator",target:"_blank",rel:"noopener noreferrer"},"Font Squirrel.")," ","Then include like that:"),a.a.createElement("pre",null,'@font-face {\n  font-family: "YourFillerFont";\n  font-weight: 400;\n  font-style: normal;\n  src: url("./fontfiller.woff2") format("woff2"),\n       url("./fontfiller.woff") format("woff");\n  unicode-range: '.concat(n.filter((function(e){return e.fallback.char})).map((function(e){return"U+"+h[e.fallback.char]})).join(", "),";\n}")),a.a.createElement("p",null,"and use it like that:"),a.a.createElement("pre",null,'html {\n  font-family: "YourFillerFont", "HereYourNormalFont", sans-serif;\n}'))};n(28);var R=function(){var e=Object(r.useReducer)(P,A);return a.a.createElement("div",{className:"App"},a.a.createElement(f,{value:e},a.a.createElement(j,null),a.a.createElement(w,null),a.a.createElement(S,null)),a.a.createElement("p",null,"Code by Stefan Huber \xb7"," ",a.a.createElement("a",{className:"App-link",href:"https://github.com/signalwerk/font-filler/",target:"_blank",rel:"noopener noreferrer"}," ","OpenSource on GitHub")),a.a.createElement("p",null,"Thanks to"," ",a.a.createElement("a",{className:"App-link",href:"https://github.com/opentypejs/opentype.js",target:"_blank",rel:"noopener noreferrer"}," ","opentype.js")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.68205656.chunk.js.map